{"ast":null,"code":"import { createSlice, nanoid, createAsyncThunk } from '@reduxjs/toolkit';\nimport controller from '../controller';\nconst initialState = {\n  balance: 0,\n  status: 'idle',\n  error: ''\n};\nexport const fetchBalanceAsync = createAsyncThunk('node/fetchBalanceAsync', async () => {\n  const response = await controller.methods.getCumulativeNodeDeposit(0).call();\n  return response;\n});\nexport const depositRen = createAsyncThunk('node/depositRen', async () => {\n  const response = await controller.methods.stakeRen(0).cal();\n  return response;\n});\nconst nodeSlice = createSlice({\n  name: 'node',\n  initialState,\n  reducers: {// omit existing reducers here\n  },\n  extraReducers: {\n    [fetchBalanceAsync.pending]: (state, action) => {\n      state.status = 'loading';\n    },\n    [fetchBalanceAsync.fulfilled]: (state, action) => {\n      state.status = 'succeeded'; // Add any fetched posts to the array\n\n      console.log(\"payload is\", action.payload);\n      state.balance = action.payload;\n    },\n    [fetchBalanceAsync.rejected]: (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    },\n    [stakeRenAsync.pending]: (state, action) => {\n      state.status = 'depositing';\n    },\n    [stakeRenAsync.fulfilled]: (state, action) => {\n      state.status = 'deposited'; // Add any fetched posts to the array\n\n      console.log(\"payload is\", action.payload);\n      state.balance = action.payload;\n    },\n    [stakeRenAsync.rejected]: (state, action) => {\n      state.status = 'Node is full';\n      state.error = action.error.message;\n    }\n  }\n}); //export const { fetchBalance } = nodeSlice.actions;\n\nexport default nodeSlice.reducer;","map":{"version":3,"sources":["/home/kesha/Videos/my-app/src/features/nodeUpdater/nodeSlice.js"],"names":["createSlice","nanoid","createAsyncThunk","controller","initialState","balance","status","error","fetchBalanceAsync","response","methods","getCumulativeNodeDeposit","call","depositRen","stakeRen","cal","nodeSlice","name","reducers","extraReducers","pending","state","action","fulfilled","console","log","payload","rejected","message","stakeRenAsync","reducer"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,MAAtB,EAA8BC,gBAA9B,QAAsD,kBAAtD;AACA,OAAOC,UAAP,MAAuB,eAAvB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,OAAO,EAAE,CADU;AAEnBC,EAAAA,MAAM,EAAC,MAFY;AAGnBC,EAAAA,KAAK,EAAC;AAHa,CAArB;AAMA,OAAO,MAAMC,iBAAiB,GAAGN,gBAAgB,CAAC,wBAAD,EAA2B,YAAY;AACtF,QAAMO,QAAQ,GAAG,MAAMN,UAAU,CAACO,OAAX,CAAmBC,wBAAnB,CAA4C,CAA5C,EAA+CC,IAA/C,EAAvB;AACA,SAAOH,QAAP;AACD,CAHgD,CAA1C;AAMP,OAAO,MAAMI,UAAU,GAAGX,gBAAgB,CAAC,iBAAD,EAAoB,YAAY;AACxE,QAAMO,QAAQ,GAAG,MAAMN,UAAU,CAACO,OAAX,CAAmBI,QAAnB,CAA4B,CAA5B,EAA+BC,GAA/B,EAAvB;AACA,SAAON,QAAP;AACD,CAHyC,CAAnC;AAMP,MAAMO,SAAS,GAAGhB,WAAW,CAAC;AAC1BiB,EAAAA,IAAI,EAAE,MADoB;AAE1Bb,EAAAA,YAF0B;AAG1Bc,EAAAA,QAAQ,EAAE,CACR;AADQ,GAHgB;AAM1BC,EAAAA,aAAa,EAAE;AACb,KAACX,iBAAiB,CAACY,OAAnB,GAA6B,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC9CD,MAAAA,KAAK,CAACf,MAAN,GAAe,SAAf;AACD,KAHY;AAIb,KAACE,iBAAiB,CAACe,SAAnB,GAA+B,CAACF,KAAD,EAAQC,MAAR,KAAmB;AAChDD,MAAAA,KAAK,CAACf,MAAN,GAAe,WAAf,CADgD,CAEhD;;AACAkB,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BH,MAAM,CAACI,OAAjC;AACAL,MAAAA,KAAK,CAAChB,OAAN,GAAgBiB,MAAM,CAACI,OAAvB;AACD,KATY;AAUb,KAAClB,iBAAiB,CAACmB,QAAnB,GAA8B,CAACN,KAAD,EAAQC,MAAR,KAAmB;AAC/CD,MAAAA,KAAK,CAACf,MAAN,GAAe,QAAf;AACAe,MAAAA,KAAK,CAACd,KAAN,GAAce,MAAM,CAACf,KAAP,CAAaqB,OAA3B;AACD,KAbY;AAcZ,KAACC,aAAa,CAACT,OAAf,GAAyB,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC3CD,MAAAA,KAAK,CAACf,MAAN,GAAe,YAAf;AACD,KAhBY;AAiBb,KAACuB,aAAa,CAACN,SAAf,GAA2B,CAACF,KAAD,EAAQC,MAAR,KAAmB;AAC5CD,MAAAA,KAAK,CAACf,MAAN,GAAe,WAAf,CAD4C,CAE5C;;AACAkB,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BH,MAAM,CAACI,OAAjC;AACAL,MAAAA,KAAK,CAAChB,OAAN,GAAgBiB,MAAM,CAACI,OAAvB;AACD,KAtBY;AAuBb,KAACG,aAAa,CAACF,QAAf,GAA0B,CAACN,KAAD,EAAQC,MAAR,KAAmB;AAC3CD,MAAAA,KAAK,CAACf,MAAN,GAAe,cAAf;AACAe,MAAAA,KAAK,CAACd,KAAN,GAAce,MAAM,CAACf,KAAP,CAAaqB,OAA3B;AACD;AA1BY;AANW,CAAD,CAA7B,C,CAoCE;;AAEA,eAAeZ,SAAS,CAACc,OAAzB","sourcesContent":["import { createSlice, nanoid, createAsyncThunk } from '@reduxjs/toolkit'\nimport controller from '../controller'\n\nconst initialState = {\n  balance: 0,\n  status:'idle',\n  error:''\n}\n\nexport const fetchBalanceAsync = createAsyncThunk('node/fetchBalanceAsync', async () => {\n  const response = await controller.methods.getCumulativeNodeDeposit(0).call();\n  return response;\n})\n\n\nexport const depositRen = createAsyncThunk('node/depositRen', async () => {\n  const response = await controller.methods.stakeRen(0).cal();\n  return response;\n})\n\n\nconst nodeSlice = createSlice({\n    name: 'node',\n    initialState,\n    reducers: {\n      // omit existing reducers here\n    },\n    extraReducers: {\n      [fetchBalanceAsync.pending]: (state, action) => {\n        state.status = 'loading'\n      },\n      [fetchBalanceAsync.fulfilled]: (state, action) => {\n        state.status = 'succeeded'\n        // Add any fetched posts to the array\n        console.log(\"payload is\", action.payload);\n        state.balance = action.payload;\n      },\n      [fetchBalanceAsync.rejected]: (state, action) => {\n        state.status = 'failed'\n        state.error = action.error.message\n      },\n       [stakeRenAsync.pending]: (state, action) => {\n        state.status = 'depositing'\n      },\n      [stakeRenAsync.fulfilled]: (state, action) => {\n        state.status = 'deposited'\n        // Add any fetched posts to the array\n        console.log(\"payload is\", action.payload);\n        state.balance = action.payload;\n      },\n      [stakeRenAsync.rejected]: (state, action) => {\n        state.status = 'Node is full'\n        state.error = action.error.message\n      }\n    }\n  })\n\n  //export const { fetchBalance } = nodeSlice.actions;\n\n  export default nodeSlice.reducer"]},"metadata":{},"sourceType":"module"}